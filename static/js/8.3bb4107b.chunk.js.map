{"version":3,"sources":["pages/PdfComponent.js","pages/Cv.js","../node_modules/pdfjs-dist/build sync"],"names":["pdfjs","GlobalWorkerOptions","workerSrc","pdfjsWorker","PdfComponent","src","params","useParams","p","parseInt","id","history","useHistory","useState","allpages","setAllpages","pg","setPg","canvasRef","useRef","value","state","setState","useEffect","a","async","loadingTask","getDocument","promise","pdf","firstPageNumber","numPages","Number","isInteger","window","location","href","getPage","page","viewport","getViewport","scale","canvas","current","context","getContext","height","width","renderContext","canvasContext","renderTask","render","fetchPdf","Container","className","Row","style","top","zIndex","Pagination","whiteSpace","overflow","First","title","disabled","onClick","e","Prev","Ellipsis","Item","active","Next","Last","Form","onSubmit","target","push","preventDefault","InputGroup","FormControl","onChange","aria-label","maxWidth","borderColor","onInput","length","slice","required","aria-describedby","placeholder","pattern","min","max","type","Button","variant","verticalAlign","border","as","ref","defaultProps","allPages","Cv","name","content","webpackEmptyContext","req","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/8.3bb4107b.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport pdfjs from \"pdfjs-dist\";\r\nimport pdfjsWorker from \"pdfjs-dist/build/pdf.worker.entry\";\r\nimport {\r\n  Container,\r\n  Pagination,\r\n  InputGroup,\r\n  FormControl,\r\n  Form,\r\n  Button\r\n} from \"react-bootstrap\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { Row } from \"react-bootstrap\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = pdfjsWorker;\r\nconst PdfComponent = ({ src }) => {\r\n  const params = useParams();\r\n  let p = parseInt(params.id);\r\n  const history = useHistory();\r\n  const [allpages, setAllpages] = useState();\r\n  const [pg, setPg] = useState(parseInt(p) || 1);\r\n  const canvasRef = useRef(null);\r\n  const [state, setState] = useState({ value: parseInt(p) });\r\n  function handleChange(e) {\r\n    setState({ value: e.target.value });\r\n    e.preventDefault();\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    setState({ value: parseInt(e.target.value) });\r\n    setPg(parseInt(state.value));\r\n    history.push(\"/cv/\" + parseInt(state.value));\r\n    e.preventDefault();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchPdf = async () => {\r\n      const loadingTask = pdfjs.getDocument(src);\r\n      const pdf = await loadingTask.promise;\r\n      const firstPageNumber =\r\n        p > pdf.numPages || p < 1 || !Number.isInteger(p)\r\n          ? (window.location.href = \"/cv/\" + 1)\r\n          : p;\r\n      const page = await pdf.getPage(firstPageNumber || 1);\r\n\r\n      setAllpages(pdf.numPages);\r\n      const scale = 4;\r\n      const viewport = page.getViewport({ scale: scale });\r\n\r\n      // Prepare canvas using PDF page dimensions\r\n      const canvas = canvasRef.current;\r\n      const context = canvas.getContext(\"2d\");\r\n      canvas.height = viewport.height;\r\n      canvas.width = viewport.width;\r\n\r\n      // Render PDF page into canvas context\r\n      const renderContext = {\r\n        canvasContext: context,\r\n        viewport: viewport\r\n      };\r\n      const renderTask = page.render(renderContext);\r\n      await renderTask.promise;\r\n    };\r\n\r\n    fetchPdf();\r\n  }, [p, pg, src]);\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"text-center w-100 justify-content-center\">\r\n        <Row\r\n          className=\"justify-content-center sticky-top bg-white pt-2 pb-0\"\r\n          style={{ top: 48, zIndex:10 }}\r\n        >\r\n          <Pagination className=\"p-0 m-0\" style={{ whiteSpace: \"nowrap\", overflow: \"none\" }}>\r\n            <Pagination.First\r\n              title=\"First\"\r\n              disabled={pg === 1 ? \"disabled\" : null}\r\n              onClick={e =>\r\n                pg !== 1 ? (window.location.href = \"/cv/\" + 1) : null\r\n              }\r\n            />\r\n            <Pagination.Prev\r\n              title=\"Previous\"\r\n              disabled={pg <= 1 ? \"disabled\" : null}\r\n              onClick={e =>\r\n                pg > 1 ? (window.location.href = \"/cv/\" + (pg - 1)) : null\r\n              }\r\n            />\r\n            {pg > 3 ? (\r\n              <Pagination.Ellipsis className=\"d-none d-md-block\" disabled />\r\n            ) : null}\r\n            {pg > 2 ? (\r\n              <Pagination.Item\r\n                className=\"d-none d-sm-block\"\r\n                onClick={e => (window.location.href = \"/cv/\" + (pg - 2))}\r\n              >\r\n                {pg - 2}\r\n              </Pagination.Item>\r\n            ) : null}\r\n            {pg > 1 ? (\r\n              <Pagination.Item\r\n                className=\"d-none d-sm-block\"\r\n                onClick={e => (window.location.href = \"/cv/\" + (pg - 1))}\r\n              >\r\n                {pg - 1}\r\n              </Pagination.Item>\r\n            ) : null}\r\n            <Pagination.Item active>{pg}</Pagination.Item>\r\n            {pg < allpages - 1 ? (\r\n              <Pagination.Item\r\n                className=\"d-none d-sm-block\"\r\n                onClick={e => (window.location.href = \"/cv/\" + (pg + 1))}\r\n              >\r\n                {pg + 1}\r\n              </Pagination.Item>\r\n            ) : null}\r\n            {pg < allpages - 2 ? (\r\n              <Pagination.Item\r\n                className=\"d-none d-sm-block\"\r\n                onClick={e => (window.location.href = \"/cv/\" + (pg + 2))}\r\n              >\r\n                {pg + 2}\r\n              </Pagination.Item>\r\n            ) : null}\r\n            {pg < allpages - 3 ? (\r\n              <Pagination.Ellipsis className=\"d-none d-md-block\" disabled />\r\n            ) : null}\r\n            <Pagination.Next\r\n              title=\"Next\"\r\n              disabled={pg > allpages - 1 ? \"disabled\" : null}\r\n              onClick={e => (window.location.href = \"/cv/\" + (pg + 1))}\r\n            />\r\n            <Pagination.Last\r\n              title=\"Last\"\r\n              disabled={pg === allpages ? \"disabled\" : null}\r\n              onClick={e =>\r\n                pg !== allpages\r\n                  ? (window.location.href = \"/cv/\" + allpages)\r\n                  : null\r\n              }\r\n            />\r\n            <Form className=\"page-item\" onSubmit={handleSubmit}>\r\n              <InputGroup className=\"d-inline\">\r\n                <FormControl\r\n                  className=\"pr-0 rounded-0 d-inline border-right-0\"\r\n                  value={state.value || \"\"}\r\n                  onChange={handleChange}\r\n                  aria-label=\"Go to page:\"\r\n                  style={{ maxWidth: \"50px\", borderColor: \"#dee2e6\" }}\r\n                  onInput={\r\n                    state.value.length > 2\r\n                      ? setState({ value: parseInt(state.value.slice(0, 2)) })\r\n                      : null\r\n                  }\r\n                  required\r\n                  aria-describedby=\"inputGroup-sizing-sm\"\r\n                  placeholder=\"   \"\r\n                  pattern=\"\\d+\"\r\n                  min={1}\r\n                  max={allpages}\r\n                  type=\"number\"\r\n                  title=\"Go to page\"\r\n                />\r\n                <Button\r\n                  title=\"Go to page\"\r\n                  className=\"d-inline rounded-0 border-right-0 border-left-0 pl-1 pr-2\"\r\n                  variant=\"white\"\r\n                  style={{ verticalAlign: \"top\", border: \"1px solid #dee2e6\" }}\r\n                  type=\"submit\"\r\n                >\r\n                  Go\r\n                </Button>\r\n              </InputGroup>\r\n            </Form>\r\n            <Pagination.Item\r\n              as=\"a\"\r\n              title=\"View / Download PDF\"\r\n              href={process.env.PUBLIC_URL + \"/contents/docs/cv-web.pdf\"}\r\n            >\r\n              ⤓\r\n            </Pagination.Item>\r\n          </Pagination>\r\n        </Row>\r\n\r\n        <canvas\r\n          id=\"cv\"\r\n          ref={canvasRef}\r\n          width=\"100%\"\r\n          className=\"mx-auto w-100\"\r\n          // width={window.innerWidth}\r\n          // height={window.innerHeight}\r\n        />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nPdfComponent.propTypes = {\r\n  src: PropTypes.string,\r\n  allpages: PropTypes.string\r\n};\r\n\r\nPdfComponent.defaultProps = {\r\n  src: process.env.PUBLIC_URL + \"/contents/docs/cv-web.pdf\",\r\n  allPages: PdfComponent.allPages\r\n};\r\n\r\nexport default PdfComponent;\r\n","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport PdfComponent from \"./PdfComponent\";\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nexport default function Cv() {\r\n  return (\r\n    <Container className=\"w-100 text-center\">\r\n      <Helmet>\r\n        <title>CV - Will Kymlicka's Website</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Will Kymlicka's Curriculum Vitae in PDF and browsable format.\"\r\n        />\r\n      </Helmet>\r\n      <PdfComponent\r\n        src={process.env.PUBLIC_URL + \"/contents/docs/CV-web.pdf\"}\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 73;"],"sourceRoot":""}